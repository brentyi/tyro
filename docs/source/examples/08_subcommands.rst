.. Comment: this file is automatically generated by `update_example_docs.py`.
   It should not be modified manually.

8. Subcommands
==========================================


Unions over nested types (classes or dataclasses) are populated using subcommands.



.. code-block:: python
       :linenos:

       from __future__ import annotations
       
       import dataclasses
       from typing import Union
       
       import dcargs
       
       
       @dataclasses.dataclass(frozen=True)
       class Checkout:
           """Checkout a branch."""
       
           branch: str
       
       
       @dataclasses.dataclass(frozen=True)
       class Commit:
           """Commit changes."""
       
           message: str
           all: bool = False
       
       
       def main(cmd: Union[Checkout, Commit]) -> None:
           print(cmd)
       
       
       if __name__ == "__main__":
           # Note that we can also pass `Union[Checkout, Command]` directly into
           # `dcargs.cli()`; this is understood by dcargs and pyright, but unfortunately not by
           # mypy.
           dcargs.cli(main)

------------

.. raw:: html

        <kbd>python 08_subcommands.py --help</kbd>

.. program-output:: python ../../examples/08_subcommands.py --help

------------

.. raw:: html

        <kbd>python 08_subcommands.py cmd:commit --help</kbd>

.. program-output:: python ../../examples/08_subcommands.py cmd:commit --help

------------

.. raw:: html

        <kbd>python 08_subcommands.py cmd:commit --cmd.message hello --cmd.all</kbd>

.. program-output:: python ../../examples/08_subcommands.py cmd:commit --cmd.message hello --cmd.all

------------

.. raw:: html

        <kbd>python 08_subcommands.py cmd:checkout --help</kbd>

.. program-output:: python ../../examples/08_subcommands.py cmd:checkout --help

------------

.. raw:: html

        <kbd>python 08_subcommands.py cmd:checkout --cmd.branch main</kbd>

.. program-output:: python ../../examples/08_subcommands.py cmd:checkout --cmd.branch main

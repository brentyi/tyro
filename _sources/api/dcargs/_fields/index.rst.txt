:orphan:

:py:mod:`dcargs._fields`
========================

.. py:module:: dcargs._fields

.. autoapi-nested-parse::

   
   Abstractions for pulling out 'field' definitions, which specify inputs, types, and
   defaults, from general callables.


Module Contents
---------------

.. py:exception:: UnsupportedNestedTypeAnnotationError

   Bases: :py:obj:`dcargs._instantiators.UnsupportedTypeAnnotationError`

   
   Narrower version of UnsupportedNestedTypeAnnotationError, which signifies that a type
   cannot correspond to a nested field. It may still be parsed directly.

.. py:class:: FieldDefinition

   .. py:attribute:: name
      :annotation: :str

      

   .. py:attribute:: typ
      :annotation: :Type

      

   .. py:attribute:: default
      :annotation: :Any

      

   .. py:attribute:: helptext
      :annotation: :Optional[str]

      

   .. py:attribute:: positional
      :annotation: :bool

      


.. py:class:: PropagatingMissingType

   Bases: :py:obj:`_Singleton`


.. py:class:: NonpropagatingMissingType

   Bases: :py:obj:`_Singleton`


.. py:class:: ExcludeFromCallType

   Bases: :py:obj:`_Singleton`


.. py:data:: MISSING_PROP
   

   

.. py:data:: MISSING_NONPROP
   

   

.. py:data:: EXCLUDE_FROM_CALL
   

   

.. py:data:: MISSING_PUBLIC
   :annotation: :Any

   
   Sentinel value to mark fields as missing. Can be used to mark fields passed in as a
   ``default_instance`` for ``dcargs.cli()`` as required.

.. py:data:: MISSING_TYPE
   

   

.. py:data:: MISSING_SINGLETONS
   

   

.. py:data:: T
   

   

.. py:data:: DefaultInstanceT
   

   

.. py:function:: is_nested_type(typ: Any, default_instance: Any) -> bool

   
   Determine whether a type should be treated as a 'nested type', where a single field
   has multiple corresponding arguments (eg for nested dataclasses or classes).

.. py:function:: field_list_from_callable(f: Callable[Ellipsis, T], default_instance: DefaultInstanceT, root_field: bool = False) -> List[FieldDefinition]

   
   Generate a list of generic 'field' objects corresponding to the inputs of some
   annotated callable.

   ``f`` can be from a dataclass type, regular class type, or function.

   If ``root_field`` is set to True, we treat ``int``\ , ``torch.device``\ , etc as nested
   fields. This is to make sure that these types can be passed directly into
   dcargs.cli(); the logic can likely be refactored.

